#################################################################
## Home Assistant
#################################################################

homeassistant:
  name: Home
  latitude: !secret homeassistant_latitude
  longitude: !secret homeassistant_longitude
  elevation: !secret homeassistant_elevation
  unit_system: metric
  time_zone: !secret homeassistant_timezone
  customize: !include customize.yaml
  auth_providers:
   - type: homeassistant
  packages: !include_dir_named packages

frontend:
  themes: !include themes.yaml
updater:
  reporting: no
  include_used_components: true
sun:
map:
config:

logger:
  default: critical
  logs:
    homeassistant.components.http.ban: warning

logbook:

http:
  # Uncomment this if you are using SSL or running in Docker etc
  base_url: !secret homeassistant_url
  ip_ban_enabled: True
  login_attempts_threshold: 3
  use_x_forwarded_for: True
  trusted_proxies:
    - !secret proxy_ip

history:

#################################################################
## Components
#################################################################
mqtt:
  broker: !secret mqtt_host 
  port: 1883
  client_id: !secret mqtt_client_id
  username: !secret mqtt_user
  password: !secret mqtt_pass
  keepalive: 60
  discovery: true
  birth_message:
    topic: 'hass/status'
    payload: 'online'
  will_message:
    topic: 'hass/status'
    payload: 'offline'

recorder:
  db_url: !secret db_url
  exclude:
    entities:
      - sensor.snowie_map

device_tracker:
  - platform: unifi
    host: !secret unifi_controller_host
    port: 443
    username: !secret unifi_controller_user
    password: !secret unifi_controller_password
    ssid_filter:
      - !secret unifi_controller_ssid1
      - !secret unifi_controller_ssid2
      - !secret unifi_controller_ssid3
    monitored_conditions:
      - mac
      - first_seen
      - hostname
      - ip
      - name
      - radio
      - uptime

media_player:
  - platform: denonavr
    host: !secret denon_ip
  - platform: kodi
    host: !secret kodi_ip
    port: 8080
  - platform: spotify
    client_id: !secret spotify_client_id
    client_secret: !secret spotify_client_secret

google:
  client_id: !secret google_calendar_client_id
  client_secret: !secret google_calendar_client_key

influxdb:
  database: !secret influxdb_db_name
  username: !secret influxdb_user
  password: !secret influxdb_password
  max_retries: 5

telegram_bot:
  - platform: polling
    api_key: !secret telegram_api_key
    allowed_chat_ids:
      - !secret telegram_allowed_chat_id_group_notifications
      - !secret telegram_allowed_chat_id_user_one
      - !secret telegram_allowed_chat_id_user_two  

system_health:

breaking_changes:

hacs:
  token: !secret hacs_token
#################################################################
## Includes
#################################################################

alexa: !include alexa.yaml
switch: !include switch.yaml
sensor: !include sensor.yaml
group: !include group.yaml
automation: !include automation.yaml
script: !include scripts.yaml
light: !include light.yaml
input_boolean: !include input_boolean.yaml
input_number: !include input_number.yaml
notify: !include notify.yaml
zone: !include zone.yaml
proximity: !include proximity.yaml
camera: !include camera.yaml
image_processing: !include image_processing.yaml
history_graph: !include history_graph.yaml
input_select: !include input_select.yaml
input_datetime: !include input_datetime.yaml
binary_sensor: !include binary_sensor.yaml
weather: !include weather.yaml
counter: !include counter.yaml
scene: !include scenes.yaml
timer: !include timer.yaml
tplink: !include tplink.yaml
yeelight: !include yeelight.yaml
